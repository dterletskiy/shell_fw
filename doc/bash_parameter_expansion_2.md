# Bash Parameter Expansion --- Полная Таблица

## Основные операции

  -----------------------------------------------------------------------
  Синтаксис                           Описание
  ----------------------------------- -----------------------------------
  `${var}`                            Значение переменной.

  `${var:-word}`                      Если *var* пустая/не установлена
                                      --- вернуть *word*, иначе вернуть
                                      *var*.

  `${var-word}`                       Как выше, но отличается поведением
                                      для неустановленных переменных.

  `${var:=word}`                      Если *var* пустая/не установлена
                                      --- присвоить *word* и вернуть его.

  `${var=word}`                       Как выше, но отличается поведением
                                      для неустановленных переменных.

  `${var:+word}`                      Если *var* НЕ пустая --- вернуть
                                      *word*, иначе пусто.

  `${var+word}`                       Как выше, но отличается поведением
                                      для неустановленных переменных.

  `${var:?message}`                   Ошибка, если *var* пустая/не
                                      установлена.

  `${var?message}`                    Как выше, но отличается поведением
                                      для неустановленных переменных.
  -----------------------------------------------------------------------

------------------------------------------------------------------------

## Удаление по шаблону

### С начала строки

  Синтаксис           Действие
  ------------------- ---------------------------------------------------
  `${var#pattern}`    Удаляет *короткое* совпадение `pattern` в начале.
  `${var##pattern}`   Удаляет *длинное* совпадение `pattern` в начале.

### С конца строки

  Синтаксис           Действие
  ------------------- --------------------------------------------------
  `${var%pattern}`    Удаляет *короткое* совпадение `pattern` в конце.
  `${var%%pattern}`   Удаляет *длинное* совпадение `pattern` в конце.

------------------------------------------------------------------------

## Замена подстрок

  Синтаксис           Действие
  ------------------- --------------------------------------------
  `${var/pat/sub}`    Заменяет первое совпадение `pat` на `sub`.
  `${var//pat/sub}`   Заменяет **все** совпадения.
  `${var/#pat/sub}`   Заменяет `pat` в начале строки.
  `${var/%pat/sub}`   Заменяет `pat` в конце строки.

------------------------------------------------------------------------

## Работа с длиной, срезами и массивами

  Синтаксис                Действие
  ------------------------ ---------------------------------
  `${#var}`                Длина строки/массива.
  `${var:offset}`          Срез строки с позиции `offset`.
  `${var:offset:length}`   Срез строки длиной `length`.
  `${array[@]}`            Все элементы массива.
  `${#array[@]}`           Количество элементов массива.

------------------------------------------------------------------------

## Извлечение имен/значений переменных

  Синтаксис       Действие
  --------------- ----------------------------------------------------
  `${!prefix*}`   Все переменные, начинающиеся с `prefix`.
  `${!var}`       Значение переменной, имя которой хранится в `var`.

------------------------------------------------------------------------

## Значения по умолчанию для массивов

  Синтаксис                    Действие
  ---------------------------- ---------------
  `${array[@]:start:length}`   Срез массива.

------------------------------------------------------------------------

## Специальные конструкции

  Синтаксис    Действие
  ------------ ------------------------------------
  `${var@Q}`   Цитирование строки как в оболочке.
  `${var@A}`   Атрибуты переменной.
  `${var@P}`   Обработка как путь.
  `${var@U}`   Верхний регистр.
  `${var@L}`   Нижний регистр.

------------------------------------------------------------------------

Форматирование шаблонов использует **globbing**, а не regex.
