# Bash Parameter Expansion Reference

| Синтаксис | Назначение / Описание | Пример |
|-----------|--------------------|--------|
| `${var:-default}` | Если `var` не установлена или пуста, возвращает `default`. Иначе — значение `var`. | `${name:-guest}` → `"guest"` если `name` не задана |
| `${var:=default}` | Если `var` не установлена или пуста, присваивает ей `default` и возвращает его. | `${name:=guest}` → задаёт `name="guest"` |
| `${var:+alt}` | Если `var` установлена и не пуста, возвращает `alt`. Иначе — пустую строку. | `${DEBUG:+enabled}` |
| `${var:?message}` | Если `var` не установлена или пуста, завершает скрипт с ошибкой и выводит `message`. | `${USER:?Need USER set}` |
| `${!var}` | Непрямая подстановка: возвращает значение переменной, имя которой хранится в `var`. | `N=3; echo ${!N}` → значение `$3` |
| `${!var:-default}` | Непрямая подстановка с значением по умолчанию. | `value=${!N:-default}` |
| `${var#pattern}` | Удаляет **самое короткое** совпадение `pattern` с начала строки. | `${path#*/}` — удаляет всё до первого `/` |
| `${var##pattern}` | Удаляет **самое длинное** совпадение `pattern` с начала строки. | `${path##*/}` — basename |
| `${var%pattern}` | Удаляет **самое короткое** совпадение `pattern` с конца строки. | `${file%.txt}` — убрать расширение |
| `${var%%pattern}` | Удаляет **самое длинное** совпадение `pattern` с конца строки. | `${file%%.*}` — убрать всё после первой точки |
| `${#var}` | Длина строки или массива. | `${#name}` → длина строки `name` |
| `${var:offset:length}` | Подстрока: извлекает `length` символов, начиная с позиции `offset`. | `${str:1:3}` |
| `${var/pat/repl}` | Замена **первого** совпадения шаблона `pat` на `repl`. | `${name/foo/bar}` |
| `${var//pat/repl}` | Замена **всех** совпадений шаблона `pat` на `repl`. | `${path//\//_}` |
